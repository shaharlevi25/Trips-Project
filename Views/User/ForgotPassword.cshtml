@{
    ViewData["Title"] = "שכחתי סיסמה";
    string mode = ViewBag.Mode as string ?? "request"; // request | sent | reset
    string email = ViewBag.Email as string ?? "";
}

<h2>שכחתי סיסמה</h2>

@if (mode == "sent")
{
    <p>נשלח אליך למייל קישור לאיפוס סיסמה</p>
}
else if (mode == "reset")
{
    <form method="post" asp-action="ResetPassword" asp-controller="User">
        <input type="hidden" name="email" value="@email" />

        <div style="margin-bottom:10px;">
            <label>סיסמה חדשה</label><br />
            <input type="password" name="newPassword" required />
        </div>

        <button type="submit">עדכן סיסמה</button>
    </form>
}
else
{
    <form method="post" asp-action="ForgotPassword" asp-controller="User">
        <div style="margin-bottom:10px;">
            <label>אימייל</label><br />
            <input type="email" name="email" required />
        </div>

        <button type="submit">שלח לינק לאיפוס</button>
    </form>
}