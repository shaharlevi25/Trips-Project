@model IEnumerable<TripsProject.Models.ViewModel.MyWaitlistRowVM>
@{
    ViewData["Title"] = "My Waitlist";
}

<h1>My Waitlist</h1>

<input type="text" id="searchBox"
       placeholder="Search by destination / country / status / waitingId / packageId..."
       class="form-control mb-3" />

<div id="waitlistTable">
    <partial name="_MyWaitlistTable" model="Model" />
</div>

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        function filterMyWaitlist() {
            $.get('@Url.Action("MyWaitlistSearch","UserWaitlist")', {
                query: $('#searchBox').val()
            }, function (html) {
                $('#waitlistTable').html(html);
            });
        }

        $('#searchBox').on('keyup', filterMyWaitlist);
    </script>
}

<style>
    h1 { margin: 20px 0; }
    table { width: 100%; background: #fff; border-radius: 12px; overflow: hidden; }
    th, td { padding: 12px; border-bottom: 1px solid #e5e7eb; }
    th { background: #f9fafb; text-align: left; }
    .badge {
        padding: 6px 10px;
        border-radius: 999px;
        font-weight: 700;
        font-size: 12px;
        display: inline-block;
    }
    .paid { background: #dcfce7; color: #166534; }
    .pending { background: #fef9c3; color: #854d0e; }
    .cancelled { background: #fee2e2; color: #991b1b; }
</style>